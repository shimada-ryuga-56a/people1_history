<%= turbo_frame_tag "flash_message" do %>
  <div class="w-9/10 fixed top-20 left-0 right-0 truncate z-10 text-sm md:text-base">
    <% flash.each do |message_type, message| %>
      <div
        role="alert"
        data-controller="notification"
        data-notification-delay-value="2000"
        class="transition transform duration-1000 hidden alert flex my-1
        <% case message_type %>
          <% when "info", "notice" %>
            <%= " text-info-content bg-neutral" %>
          <% when "error" %>
            <%= " text-error-content bg-error" %>
          <% when "success" %>
            <%= " text-success-content bg-success" %>
          <% else %>
            <%= " text-info-content bg-neutral" %>
        <% end %>"
        data-transition-enter-from="opacity-0 translate-x-0"
        data-transition-enter-to="opacity-100 translate-x-0"
        data-transition-leave-from="opacity-100 translate-x-0"
        data-transition-leave-to="opacity-0 translate-x-0"
      >
        <% case message_type %>
        <% when "error" %>
          <svg
          xmlns="http://www.w3.org/2000/svg"
          class="h-6 w-6 shrink-0 stroke-current"
          fill="none"
          viewBox="0 0 24 24">
          <path
            stroke-linecap="round"
            stroke-linejoin="round"
            stroke-width="2"
            d="M10 14l2-2m0 0l2-2m-2 2l-2-2m2 2l2 2m7-2a9 9 0 11-18 0 9 9 0 0118 0z" />
          </svg>
        <% when "info", "notice" %>
          <svg
          xmlns="http://www.w3.org/2000/svg"
          fill="none"
          viewBox="0 0 24 24"
          class="h-6 w-6 shrink-0 stroke-current">
          <path
            stroke-linecap="round"
            stroke-linejoin="round"
            stroke-width="2"
            d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path>
          </svg>
        <% when "success" %>
          <svg
            xmlns="http://www.w3.org/2000/svg"
            class="h-6 w-6 shrink-0 stroke-current"
            fill="none"
            viewBox="0 0 24 24">
            <path
              stroke-linecap="round"
              stroke-linejoin="round"
              stroke-width="2"
              d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z" />
          </svg>
        <% else %>
          <svg
          xmlns="http://www.w3.org/2000/svg"
          fill="none"
          viewBox="0 0 24 24"
          class="h-6 w-6 shrink-0 stroke-current">
          <path
            stroke-linecap="round"
            stroke-linejoin="round"
            stroke-width="2"
            d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path>
          </svg>
        <% end %>
        <span><%= message %></span>
      </div>
    <% end %>
  </div>
<% end %>